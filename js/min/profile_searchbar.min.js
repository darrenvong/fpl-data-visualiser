function PlayerSearchBar(a){this.playerNames=[];var b=this;$.ajax({type:"POST",url:"/player_names",success:function(d){b.playerNames=d;$(a).autocomplete({source:function(a,b){var e=new RegExp($.ui.autocomplete.escapeRegex(normalise(a.term)),"i");b($.grep(d,function(a){return e.test(a)}))}})}})}
PlayerSearchBar.prototype.onSearch=function(a,b,d){for(var f,c=0;c<b.length;c++){var e=capitalise(normalise($(b[c]).val().trim())),h=$(".help-block.text-warning"),k=$(b[c]),g=!1;""===e?(a.preventDefault(),h.hasClass("hidden")&&(1===b.length?$(".help-block.text-warning").toggleClass("hidden").html('<span class="glyphicon glyphicon-alert"></span> Please type in something before trying to search.'):$(".help-block.text-warning").toggleClass("hidden").html('<span class="glyphicon glyphicon-alert"></span> Please complete all fields before trying to search.')),
f=g=!0):this.playerNames.includes(e)||(a.preventDefault(),h.hasClass("hidden")&&$(".help-block.text-warning").toggleClass("hidden").html('<span class="glyphicon glyphicon-alert"></span> Player not found!'),f=g=!0);g&&(k.hasClass("error")||$(b[c]).toggleClass("error"))}!f&&d&&this.insertQueryValues(a)};
PlayerSearchBar.prototype.insertQueryValues=function(a){a=a.target;a.id.startsWith("player1")?a.elements.player2.value=$("#player2").val():a.id.startsWith("player2")?a.elements.player1.value=$("#player1").val():(a=a.parentElement,a.elements.player1.value=$("#player1").val(),a.elements.player2.value=$("#player2").val())};
